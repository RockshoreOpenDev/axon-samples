<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf8'>

<title>Axon Chat</title>

<script type="text/javascript" src="javascript/atmosphere.js"></script>
<script src="js/jquery-1.10.2.min.js" type="text/javascript"></script>
<script type="text/javascript" src="javascript/application.js"></script>
<script src="js/sockjs.js"></script>
<script src="js/stomp/dist/stomp.js"></script>
<script src="js/app.js"></script>

<script src="js/bootstrap.min.js" type="text/javascript"></script>
<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">

<style type="text/css">
* {
	font-family: tahoma;
	font-size: 12px;
	padding: 0px;
	margin: 0px;
}

p {
	line-height: 18px;
}

div {
	width: 500px;
	margin-left: auto;
	margin-right: auto;
}

#rooms {
	padding: 5px;
	background: #ffc0cb;
	border-radius: 5px;
	border: 1px solid #CCC;
	margin-top: 10px;
}

#content {
	padding: 5px;
	background: #ddd;
	border-radius: 5px;
	border: 1px solid #CCC;
	margin-top: 10px;
}

#users {
	padding: 5px;
	background: #ddd;
	border-radius: 5px;
	border: 1px solid #CCC;
	margin-top: 10px;
}

#header {
	padding: 5px;
	background: #f5deb3;
	border-radius: 5px;
	border: 1px solid #CCC;
	margin-top: 10px;
}

#info {
	padding: 5px;
	background: #f5deb3;
	border-radius: 5px;
	border: 1px solid #CCC;
	margin-top: 10px;
}

#input {
	border-radius: 2px;
	border: 1px solid #ccc;
	margin-top: 10px;
	padding: 5px;
	width: 400px;
}

#status {
	width: 88px;
	display: block;
	float: left;
	margin-top: 15px;
}
</style>
</head>

<body>

	<div id="header">
		<h3>Atmosphere Chat. Default transport is WebSocket, fallback is
			long-polling</h3>
	</div>
	<div id="rooms"></div>
	<div id="users"></div>
	<div id="content"></div>
	<div id="info">
		<h4>To send a private message, type the name followed by : and
			then the message. To send a message to all chatroon, type all:
			message</h4>
	</div>
	<div>
		<span id="status">Connecting...</span> <input type="text" id="input"
			disabled="disabled" />
	</div>
<div id="messages"></div>

	<script type="text/javascript">
		(function() {
			/* var socket = new SockJS('/axon-chat-web/messages'); */
			var socket = new SockJS('/messages');
			
			var stompClient = Stomp.over(socket);

			var appModel = new ApplicationModel(stompClient);

			appModel.connect();
		})();
	</script>

</body>

</html>